<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png" />
    
    <title>服部平次絶体絶命の暗号</title>
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
    <link href="/decrypt.css" rel="stylesheet">
  </head>
  
  <body>
    <header>
      <div id="header_title">
        <img src="/libra.png" width="50">
        <p>服部平次絶体絶命の暗号</p>
      </div>
      <div id="header_menu">
        <p id="menu_encrypt"><a href="/encrypt/">暗号作成</a></p>
        <p class="selected" id="menu_decrypt"><a href="/decrypt/">暗号解読</a></p>
      </div>
    </header>
    
    <article>
      <p>暗号を入力してください。暗号にて改行されている位置には、改行を入れてください。</p>
      <textarea id="cipher_input" cols="40" rows="9" wrap="off" placeholder="暗号を入力"></textarea>
      <button type="button" id="submit_cipher">この暗号を解読</button>
      
      <div id="error">
        <ul id="validate_error_list">
          <li id="invalid_char">無効な文字が含まれています</li>
          <li id="invalid_nine_count">「9」の数が正しくありません</li>
          <li id="cannot_devide_by_nine">文字数が正しくありません</li>
        </ul>
      </div>
      
      <div id="result">
        
        <h1>結果</h1>
        
        <h2>Type A. 数字を表す暗号の場合</h2>
        <p id="numeral_answer"></p>
        
        <h2>Type B. 模様を表す暗号の場合</h2>
        <div class="pattern_container" id="pattern_answer_container"></div>
        
        <h1>以下、服部平次による解説</h1>
        
        <p>あれが博打好きの楠川さんが作った暗号やったら、A, J, Q, Kがトランプやっちゅうことはわかるわなぁ。</p>
        <canvas id="highlight_alphabet"></canvas>
        <p>それを数字に直して並べると、数字が<span class="expanded_number_count"></span>個できる。</p>
        <canvas id="expand"></canvas>
        <p>ここで気になるんが、暗号の真ん中にある「9」や。1から6までは仰山あんのに、9は一個だけしかない。</p>
        <canvas id="spotlight_nine"></canvas>
        <p>それで気ぃついたんや。この9を取った<span class="exclude_nine_count"></span>個を9で割ったら<span class="answer_digit"></span>組できる。</p>
        <canvas id="devide_by_nine"></canvas>
        <p><span class="answer_digit"></span>組の数字のグループがそれぞれ<span class="answer_digit"></span>桁の答えの一桁ずつを表してるんやないかってな。しかも数字はみーんな1から6までや。博打で1から6まで言うたら、あれしかないやろ。</p>
        <canvas id="dice"></canvas>
        <p>サイコロや。こら<span class="answer_digit"></span>組ある9個ずつの数字を3×3の正方形のサイコロの形にせえっちゅうこっちゃ。</p>
        <canvas id="embedding"></canvas>
        <canvas id="embedded"></canvas>
        <p>ほんなら数字をサイコロの目に置き換えて想像してみ。</p>
        <canvas id="small_dices"></canvas>
        <p>赤い色の1の目だけ目立って、模様が見えるやろ。</p>
        <canvas id="pattern_answer_canvas"></canvas>
        <p>答えが数字やったら、一桁ずつが大きなサイコロに見えるで。</p>
        <canvas id="numeral_answer_canvas"></canvas>
        <p>（存在しない模様のサイコロは、「×」と表示しています。）</p>
        
        <p>※ 暗号によっては辻褄が合わなくなります。</p>
        <p>※ 都合により一部セリフを改変しています。</p>
      </div>
    </article>
    
    <footer>
      <p>何かありましたら、<a href="https://twitter.com/yaa_maa_520">@yaa_maa_520</a>にご連絡ください。<br>解説などは、<a href="/">こちらのブログ記事</a>に書いてあります。</p>
    </footer>
    
    <script src="/lib/smooth-scroll.min.js"></script>
    
    <script src="/js/constants.js"></script>
    
    <script src="/js/utility.js"></script>
    <script src="/js/utility_for_cipher.js"></script>
    <script src="/js/utility_for_ui.js"></script>
    
    <script src="/js/decrypt/decrypt.js"></script>
    <script src="/js/decrypt/explain.js"></script>
    
    <script src="/js/decrypt/ui_input.js"></script>
    <script src="/js/decrypt/ui_output.js"></script>
    
    <script src="/js/decrypt/main.js"></script>
  </body>
</html>