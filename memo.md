# TODO

解説記事へのリンク

# たぶん解決済み

何か、桁数多くすると最後の方にJQK配分されなくない？Aばっかりになる。→コントラクト数判断の改善で直ったかも。再発したら考える。
contractionがおかしい！！48694869でテスト→直せたかも。再発したら考える。
3桁のときの解説の最後の方やばい！→3のときだけ無理やり解決。ほかの数字で同様のことになったら対処する。
replace多すぎ？

# 残念なところ

きれいな暗号にまとめられない場合が多い。
暗号の画像保存がいくつかのブラウザでサポートされていない（safari, iOS safariでされてないのが一番つらい）。
暗号をコピーしたタイミングでsnackbarか何かで通知した方が親切だと思うが、面倒なのでやってない。
小さいウィンドウでcanvasを表示してからウィンドウを拡大しても、canvasは大きくならない。怠慢。
大きい画像を適切に縮小していないので汚くなる。
letとかarrow functionとか使ってない。
Twitterでの共有ができない。画像をツイートに添付するのができない模様。

# ランダムな組み合わせを作る

https://eyalsch.wordpress.com/2010/04/01/random-sample/
nCmのやり方集。

# 正規分布の中でランダムを求める

- δ: デルタ。微小な差を表す

- 正規分布(標準ガウス分布): 平均値付近にデータが集積するような確率分布。σと
- ボックス=ミュラー法: 一様分布に従う確率変数を正規分布に従う確率変数に変換する方法
- 極座標変換: x, yで表される座標を極座標(πとrを用いた座標の表し方)に変換する

ボックス=ミュラー法
極座標変換を考えることで、標準正規分布に独立に従う乱数を二つ同時に作り出してしまおうという考え方。
標準正規分布をいきなり作るのは難しそうなので、極座標変換を使うことで指数分布と[0, 2π]上の一様分布に目的をすり替える。

- 指数分布: 

# Twitter Card

Twitter Cardでimageが表示されない問題。
もしかしたら、cloud9のrobots的にダメなのかも。
https://twittercommunity.com/t/images-not-showing-up-on-summary-cards/15965/20

# JとRの配分

制限
- sum: 強制
- max: 強制
- min: 任意、ただしエラー
- ratio: 任意

sumを決定する際にmaxは考慮されてるので、sumとmaxは相反しない

J_quota + R_quota = sum
J_quota <= J_max
R_quota <= R_max
(J_quota >= J_min)
(R_quota >= R_min)
(R_quota / J_quota = 2～4)

sum: 常に考慮する
max: 最後に切り取る

minに届かない場合
J_min + R_min > sum
→minの割合に比例して配分
(それからmaxで切り取る)

else
R_quota / J_quota = 2～4のランダムにして、J_quotaをランダムで出す
min違反なら移しかえる

最後に
max違反→移しかえる
min違反→エラーをtrueに